<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miau-Recetario de Liz</title>
    <style>
        :root { 
            --rosa-kawaii: #FFD1DC; 
            --lavanda: #E6E6FA; 
            --texto-michi: #4A4A4A; 
            --blanco-nube: #FFFFFF; 
            --fresa: #FF85A2;
        }
        body { 
            font-family: 'Comic Sans MS', 'Segoe UI', cursive, sans-serif; 
            background-color: var(--rosa-kawaii); 
            color: var(--texto-michi); 
            margin: 0; padding: 20px; 
        }
        header { 
            text-align: center; padding: 10px; 
            background: var(--blanco-nube); border-radius: 20px;
            border: 3px dashed var(--fresa); margin-bottom: 20px; 
        }
        h1 { margin: 5px 0; font-size: 1.8rem; color: var(--fresa); }

        /* Estilo de la lista desplegable */
        .michi-item {
            background: var(--blanco-nube); border-radius: 15px;
            margin-bottom: 12px; overflow: hidden;
            border: 2px solid var(--lavanda);
            box-shadow: 3px 3px 0px var(--lavanda);
        }
        .michi-boton {
            width: 100%; padding: 15px; text-align: left;
            background: none; border: none; cursor: pointer;
            font-size: 1.1rem; font-weight: bold; color: var(--texto-michi);
            display: flex; justify-content: space-between; align-items: center;
        }
        .michi-boton::before { content: 'üêæ'; margin-right: 10px; }
        .michi-boton::after { content: '‚ñº'; font-size: 0.8rem; color: var(--fresa); }

        .michi-contenido {
            max-height: 0; overflow: hidden;
            transition: max-height 0.3s ease-out;
            background: #fffafa; padding: 0 15px;
        }
        .michi-contenido.abierto {
            max-height: 1000px; padding: 15px;
            border-top: 1px dashed var(--rosa-kawaii);
        }

        .seccion-header { 
            color: var(--fresa); font-weight: bold; 
            font-size: 0.9rem; margin-top: 10px;
        }
        .cuerpo { 
            white-space: pre-line; line-height: 1.5; 
            font-size: 1rem; padding: 5px 0;
        }
        .footer-nota { text-align: center; font-size: 0.8rem; margin-top: 30px; }
    </style>
</head>
<body>

<header>
    <h1>üê± Michi Recetas üê±</h1>
    <small>¬°Hecho con pelos y harina! ‚ú®</small>
</header>

<div id="contenedor-recetas">
    <p style="text-align: center;">Buscando las huellitas...</p>
</div>

<div class="footer-nota">Si no hay recetas, ¬°Flora se las comi√≥! üêæ</div>

<script>
    const URL_JSON = "https://raw.githubusercontent.com/ruizdiazlizdiana-art/Recetario-Pan/main/recetas.json";

    async function obtenerRecetas() {
        const contenedor = document.getElementById('contenedor-recetas');
        try {
            const respuesta = await fetch(URL_JSON);
            const datos = await respuesta.json();
            contenedor.innerHTML = ''; 

            datos.forEach((receta, index) => {
                const item = `
                    <div class="michi-item">
                        <button class="michi-boton" onclick="toggleReceta(${index})">
                            ${receta.nombre}
                        </button>
                        <div id="receta-${index}" class="michi-contenido">
                            <div class="seccion-header">üå∏ Ingredientes</div>
                            <div class="cuerpo">${receta.ingredientes}</div>
                            
                            <div class="seccion-header">‚òÅÔ∏è Pasos a seguir</div>
                            <div class="cuerpo">${receta.procedimiento}</div>
                        </div>
                    </div>
                `;
                contenedor.innerHTML += item;
            });
        } catch (error) {
            contenedor.innerHTML = '<p>Miau... hubo un error al cargar.</p>';
        }
    }

    function toggleReceta(index) {
        const contenido = document.getElementById(`receta-${index}`);
        contenido.classList.toggle('abierto');
    }

    obtenerRecetas();
</script>

</body>
</html>
